(function(){"use strict";var t={784:function(t,e,r){var n=r(9963),s=r(6252);const a={class:"container"};function o(t,e,r,n,o,i){const c=(0,s.up)("router-view"),u=(0,s.up)("footer-layout");return(0,s.wg)(),(0,s.iD)("div",a,[(0,s.Wm)(c,null,{default:(0,s.w5)((t=>[((0,s.wg)(),(0,s.j4)(s.Ob,null,[((0,s.wg)(),(0,s.j4)((0,s.LL)(t.Component)))],1024))])),_:1}),(0,s.Wm)(u)])}const i=t=>((0,s.dD)("data-v-a7140316"),t=t(),(0,s.Cn)(),t),c={class:"footer-section"},u=i((()=>(0,s._)("p",null,"PHP REST API SERVER",-1))),l=[u];function d(t,e){return(0,s.wg)(),(0,s.iD)("div",c,l)}var m=r(3744);const p={},h=(0,m.Z)(p,[["render",d],["__scopeId","data-v-a7140316"]]);var v=h,f={components:{FooterLayout:v},created(){const t=!1;this.$store.dispatch("setServerUrl",t)}};const g=(0,m.Z)(f,[["render",o]]);var w=g,y=r(2119);const b={class:"product-add-section"};function k(t,e,r,a,o,i){const c=(0,s.up)("alert-component"),u=(0,s.up)("header-layout"),l=(0,s.up)("products-add-frame");return(0,s.wg)(),(0,s.iD)("div",b,[(0,s.wy)((0,s.Wm)(c,{msg:o.errorMsg,btnContent:o.alertBtnNamae,onConfirm:i.closeAlert},null,8,["msg","btnContent","onConfirm"]),[[n.F8,o.showAlert]]),(0,s.Wm)(u,{title:o.title,leftBtnName:o.leftBtnName,rightBtnName:o.rightBtnName,onLeftBtnEvent:i.saveItem,onRightBtnEvent:i.cancel},null,8,["title","leftBtnName","rightBtnName","onLeftBtnEvent","onRightBtnEvent"]),(0,s.Wm)(l,{ref:"productAddFrame"},null,512)])}r(7658);var B=r(3577);const L={class:"header-section"},I={class:"header",id:"titleInsertPoint"},_=["innerHTML"],D={class:"buttons-wrapper"};function F(t,e,r,n,a,o){return(0,s.wg)(),(0,s.iD)("div",L,[(0,s._)("div",I,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.titleArr,((t,e)=>((0,s.wg)(),(0,s.iD)("span",{key:e,innerHTML:t.char,style:(0,B.j5)({animationDelay:t.delayValue})},null,12,_)))),128))]),(0,s._)("div",D,[(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.leftBtnFunc&&o.leftBtnFunc(...t))},(0,B.zw)(r.leftBtnName),1),(0,s._)("button",{onClick:e[1]||(e[1]=(...t)=>o.rightBtnFunc&&o.rightBtnFunc(...t))},(0,B.zw)(r.rightBtnName),1)])])}var N={props:["title","leftBtnName","rightBtnName"],emits:["leftBtnEvent","rightBtnEvent"],activated(){this.showTitle()},data(){return{titleArr:[]}},methods:{leftBtnFunc(){this.$emit("leftBtnEvent")},rightBtnFunc(){this.$emit("rightBtnEvent")},showTitle(){let t="",e=0;[...this.title].forEach((r=>{t="_"==r?"&nbsp;":r,e+=.1,this.titleArr.push({char:t,delayValue:`${e}s`})}))}}};const C=(0,m.Z)(N,[["render",F],["__scopeId","data-v-464bcaae"]]);var S=C;const $={class:"product-add-form",id:"product_form"},E=(0,s._)("br",null,null,-1),P=(0,s._)("br",null,null,-1);function A(t,e,r,n,a,o){const i=(0,s.up)("base-input"),c=(0,s.up)("switchable-form");return(0,s.wg)(),(0,s.iD)("form",$,[((0,s.wg)(),(0,s.j4)(i,{labelName:"SKU",key:"sku",type:"text",name:"Sku",id:"sku",placeholder:"",min:0})),E,((0,s.wg)(),(0,s.j4)(i,{labelName:"Name",key:"name",type:"text",name:"Name",id:"name",placeholder:"",min:0})),P,((0,s.wg)(),(0,s.j4)(i,{labelName:"Price ($)",key:"price",type:"number",name:"Price",id:"price",placeholder:"",min:0},null,8,["labelName"])),(0,s.Wm)(c,{ref:"switchableForm"},null,512)])}const R={class:"base-input"},T=["for"],V=["type","name","id","placeholder","value","min"];function j(t,e,r,n,a,o){return(0,s.wg)(),(0,s.iD)("div",R,[(0,s._)("label",{for:r.id},(0,B.zw)(r.labelName),9,T),((0,s.wg)(),(0,s.iD)("input",{key:r.id,type:r.type,name:r.name,id:r.id,placeholder:r.placeholder,value:r.value,min:r.min},null,8,V))])}var M={props:["id","labelName","type","name","placeholder","value","min"]};const z=(0,m.Z)(M,[["render",j]]);var x=z;const O=t=>((0,s.dD)("data-v-2ba94874"),t=t(),(0,s.Cn)(),t),U={class:"switchable-form-section"},W={class:"switcher-input"},H=O((()=>(0,s._)("label",{for:"productType"},"Type Switcher ",-1))),Z=O((()=>(0,s._)("option",{value:"Book"},"Book",-1))),q=O((()=>(0,s._)("option",{value:"DVD"},"DVD",-1))),K=O((()=>(0,s._)("option",{value:"Furniture"},"Furniture",-1))),G=[Z,q,K],Y={class:"spec-input"},J={id:"DVD"},Q=O((()=>(0,s._)("p",null,"Please provide size (MB)",-1))),X={id:"Furniture"},tt=O((()=>(0,s._)("br",null,null,-1))),et=O((()=>(0,s._)("br",null,null,-1))),rt=O((()=>(0,s._)("p",null,"Please provide dimensions in HxWxL format",-1))),nt={id:"Book"},st=O((()=>(0,s._)("p",null,"Please provide Weight (KG)",-1)));function at(t,e,r,a,o,i){const c=(0,s.up)("base-input");return(0,s.wg)(),(0,s.iD)("div",U,[(0,s._)("div",W,[H,(0,s.wy)((0,s._)("select",{name:"type",id:"productType","onUpdate:modelValue":e[0]||(e[0]=t=>o.selectedItem=t)},G,512),[[n.bM,o.selectedItem]])]),(0,s._)("div",Y,[(0,s.wy)((0,s._)("div",J,[((0,s.wg)(),(0,s.j4)(c,{labelName:"Size (MB)",key:"size",type:"number",name:"DVD[size]",id:"size",placeholder:"",value:"",min:0},null,8,["labelName"])),Q],512),[[n.F8,o.type.DVD]]),(0,s.wy)((0,s._)("div",X,[((0,s.wg)(),(0,s.j4)(c,{labelName:"Height (CM)",key:"height",type:"number",name:"Furniture[height]",id:"height",placeholder:"",value:"",min:0},null,8,["labelName"])),tt,((0,s.wg)(),(0,s.j4)(c,{labelName:"Width (CM)",key:"width",type:"number",name:"Furniture[width]",id:"width",placeholder:"",value:"",min:0},null,8,["labelName"])),et,((0,s.wg)(),(0,s.j4)(c,{labelName:"Length (CM)",key:"length",type:"number",name:"Furniture[length]",id:"length",placeholder:"",value:"",min:0},null,8,["labelName"])),rt],512),[[n.F8,o.type.Furniture]]),(0,s.wy)((0,s._)("div",nt,[((0,s.wg)(),(0,s.j4)(c,{labelName:"Weight (KG)",key:"weight",type:"number",name:"Book[weight]",id:"weight",placeholder:"",value:"",min:0},null,8,["labelName"])),st],512),[[n.F8,o.type.Book]])])])}var ot={components:{BaseInput:x},data(){return{selectedItem:"Book",type:{Book:!0,DVD:!1,Furniture:!1}}},watch:{selectedItem(t){this.switcher(t)}},methods:{switcher(t){for(let e in this.type)e==t?this.type[t]=!0:this.type[e]=!1,this.setInputValue(e,null)},setInputValue(t,e){let r=document.querySelectorAll(`#${t} .base-input input`);r.forEach((t=>{t.value=e}))},resetAllInputValue(){this.selectedItem="Book",this.setInputValue("Book",null)},returnInputValue(){let t={},e=document.querySelectorAll(`#${this.selectedItem} .base-input input`);return e.forEach((e=>{t[e.id]=e.value})),t["productType"]=this.selectedItem,t}}};const it=(0,m.Z)(ot,[["render",at],["__scopeId","data-v-2ba94874"]]);var ct=it,ut={components:{BaseInput:x,SwitchableForm:ct},data(){return{inputIds:["name","sku","price"]}},methods:{resetInputValue(){this.inputIds.forEach((t=>{document.getElementById(t).value=null})),this.$refs.switchableForm.resetAllInputValue()},returnInputValue(){let t=[];this.inputIds.forEach((e=>{let r=document.getElementById(e);t[r.id]=r.value}));const e=this.$refs.switchableForm.returnInputValue();return{...t,...e}}}};const lt=(0,m.Z)(ut,[["render",A]]);var dt=lt,mt={data(){return{stringCheckList:["name","sku","productType"],numberCheckList:["price","height","width","length","weight","size"],typeCheckList:["productType"]}},methods:{validation(t,e){const r=this.checkRouting(t);return r(t,e)},checkRouting(t){return this.stringCheckList.includes(t)?this.stringCheck:this.numberCheckList.includes(t)?this.numberCheck:this.typeCheckList.includes(t)?this.typeCheck:void 0},stringCheck(t,e){let r="";const n=e.toString().trim();return n.length<=0&&(r+=`'${t}' cannot be empty.Please, submit required data.<br> `),n.length>30&&(r+=`'${t}' cannot excess 30 characters.<br> `),r||void 0},numberCheck(t,e){let r="";return isNaN(e)&&(r+=`'${t}' must be a number.<br> `),e.toString().trim().length<=0&&(r+=`'${t}' cannot be empty.Please, submit required data.<br> `),+e<0&&(r+=`'${t}' cannot be negative.<br> `),r||void 0},typeCheck(t,e){let r="";const n=["Book","Furniture","DVD"];return n.includes(e)?void 0:(r=`'${t}' is not allowed type. Please, provide the data of indicated type<br> `,r)}}};const pt=mt;var ht=pt;const vt={class:"alert-card"},ft=(0,s._)("i",{class:"fa-solid fa-circle-xmark"},null,-1),gt=["innerHTML"];function wt(t,e,r,n,a,o){return(0,s.wg)(),(0,s.iD)("div",{class:"alert-section",onClick:e[1]||(e[1]=(...t)=>o.confirm&&o.confirm(...t))},[(0,s._)("div",vt,[ft,(0,s._)("p",{innerHTML:r.msg},null,8,gt),(0,s._)("button",{onClick:e[0]||(e[0]=(...t)=>o.confirm&&o.confirm(...t))},(0,B.zw)(r.btnContent),1)])])}var yt={props:["msg","btnContent"],methods:{confirm(){this.$emit("confirm")}}};const bt=(0,m.Z)(yt,[["render",wt]]);var kt=bt,Bt={components:{HeaderLayout:S,ProductsAddFrame:dt,AlertComponent:kt},mixins:[ht],data(){return{title:"Product_Add",leftBtnName:"Save",rightBtnName:"Cancel",showAlert:!1,errorMsg:"",alertBtnNamae:"OK"}},methods:{async saveItem(){const t=this.getInputValues();if("success"!==t.status)this.showAlert=!0,this.errorMsg=t.message;else{const e=await this.$store.dispatch({type:"products/createItem",data:t.data});"success"===e.status?this.$router.push("/"):(this.showAlert=!0,this.errorMsg=e.message)}},closeAlert(){this.showAlert=!1,this.errorMsg=""},cancel(){this.$router.push("/")},getInputValues(){const t=this.$refs.productAddFrame.returnInputValue();let e={},r=[],n="";for(const[s,a]of Object.entries(t)){let t=this.validation(s,a);t?n+=t:e[s]=a}return r=n?{status:"error",message:n}:{status:"success",data:e},r},resetForm(){this.$refs.productAddFrame.resetInputValue()}},beforeRouteLeave(t,e,r){this.resetForm(),this.title="",r()}};const Lt=(0,m.Z)(Bt,[["render",k]]);var It=Lt;const _t={class:"product-list-section"};function Dt(t,e,r,n,a,o){const i=(0,s.up)("header-layout"),c=(0,s.up)("products-frame");return(0,s.wg)(),(0,s.iD)("div",_t,[(0,s.Wm)(i,{title:a.title,leftBtnName:a.leftBtnName,rightBtnName:a.rightBtnName,onLeftBtnEvent:o.AddItem,onRightBtnEvent:o.MassDelete},null,8,["title","leftBtnName","rightBtnName","onLeftBtnEvent","onRightBtnEvent"]),(0,s.Wm)(c,{products:a.products},null,8,["products"])])}const Ft={class:"products-frame"},Nt={class:"cards-wrapper"};function Ct(t,e,r,n,a,o){const i=(0,s.up)("product-card");return(0,s.wg)(),(0,s.iD)("div",Ft,[(0,s._)("div",Nt,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.products,(t=>((0,s.wg)(),(0,s.j4)(i,{key:t.id,id:t.id,sku:t.sku,name:t.name,price:t.price,spec:t.spec,type:t.productType,param:t.id,ref_for:!0,ref:"card"},null,8,["id","sku","name","price","spec","type","param"])))),128))])])}const St=["name"],$t={class:"card-content"};function Et(t,e,r,n,a,o){return(0,s.wg)(),(0,s.iD)("div",{class:(0,B.C_)(["product-card",{clicked:a.selected}])},[(0,s._)("input",{class:"delete-checkbox",type:"checkbox",name:r.name,onClick:e[0]||(e[0]=t=>o.selectCard(r.id))},null,8,St),(0,s._)("div",$t,[(0,s._)("p",null,(0,B.zw)(r.sku),1),(0,s._)("p",null,(0,B.zw)(r.name),1),(0,s._)("p",null,(0,B.zw)(r.price)+" $",1),(0,s._)("p",null,(0,B.zw)(a.attribute)+" : "+(0,B.zw)(r.spec)+" "+(0,B.zw)(a.unit),1)])],2)}var Pt={props:["id","sku","name","price","type","spec"],activated(){this.uncheck()},created(){this.setUnit(this.type)},data(){return{attribute:"",unit:"",selected:!1}},methods:{setUnit(t){const e=this.getSpecUnit(t);this.attribute=e[0],this.unit=e[1]},uncheck(){document.querySelectorAll(".delete-checkbox").forEach((t=>{t.checked=!1})),this.selected=!1},selectCard(t){this.selected?(this.$store.dispatch({type:"products/removeItemsFromRemoveList",item:t}),this.selected=!1):(this.$store.dispatch({type:"products/addItemsToRemoveList",item:t}),this.selected=!0)}}};const At=(0,m.Z)(Pt,[["render",Et]]);var Rt=At,Tt={props:["products"],components:{ProductCard:Rt},mounted(){window.addEventListener("resize",this.centralise),this.centralise()},methods:{centralise(){const t=200,e=35,r=t+e,n=document.querySelector(".products-frame").offsetWidth,s=Math.trunc((n-t)/r),a=s*r+t,o=(n-a)/2;document.querySelector(".cards-wrapper").style.paddingLeft=`${o}px`}}};const Vt=(0,m.Z)(Tt,[["render",Ct]]);var jt=Vt,Mt={components:{HeaderLayout:S,ProductsFrame:jt},activated(){this.getProductFromStore()},data(){return{title:"Product_List",leftBtnName:"ADD",rightBtnName:"MASS DELETE",products:[]}},async created(){await this.$store.dispatch("products/fetchProductFromDatabase"),await this.getProductFromStore()},methods:{AddItem(){this.$router.push("/add-product")},async MassDelete(){await this.$store.dispatch("products/deleteItemsFromDatabase"),await this.getProductFromStore()},getProductFromStore(){this.products=this.$store.getters["products/getProducts"]}},beforeRouteLeave(t,e,r){this.$store.dispatch("products/clearRemoveList"),this.title="",r()}};const zt=(0,m.Z)(Mt,[["render",Dt],["__scopeId","data-v-fb233942"]]);var xt=zt;const Ot=(0,y.p7)({history:(0,y.PO)(),routes:[{path:"/",component:xt,name:"view-product"},{path:"/add-product",component:It,name:"add-product"},{path:"/:notFound(.*)",component:null}]});var Ut=Ot,Wt={addItemsToRemoveList(t,e){t.removeList.push(e)},removeItemsFromRemoveList(t,e){const r=t.removeList.filter((t=>t!=e));t.removeList=r},clearRemoveList(t){t.removeList=[]},removeSeletedItems(t){const e=t.removeList;if(0==e.length)return;const r=t.products.filter((t=>!e.includes(t.id)));t.removeList=[],t.products=r},createItem(t,e){e["spec"]="",e.height?e["spec"]=`${e.height}x${e.width}x${e.length}`:e["spec"]=e.weight?e.weight:e.size;const r=[...t.products];r.push(e),t.products=r},updateProductsList(t,e){t.products=[...e]}},Ht=(r(1703),{addItemsToRemoveList(t,e){t.commit("addItemsToRemoveList",e.item)},removeItemsFromRemoveList(t,e){t.commit("removeItemsFromRemoveList",e.item)},clearRemoveList(t){t.commit("clearRemoveList")},async deleteItemsFromDatabase(t){const e=[...t.getters["getRemoveList"]];try{const r=await t.dispatch({type:"fetchApi",data:{formData:{removeList:e},api:"/product/delete-products",method:"DELETE"}});return await t.commit("removeSeletedItems"),{status:"success",data:{message:r}}}catch(r){const t=r;return{status:"error",message:t}}},async fetchProductFromDatabase(t){try{const e=await t.dispatch({type:"fetchApi",data:{formData:null,api:"/product/get-products",method:"GET"}});return await t.commit("updateProductsList",e),{status:"success",data:{message:"Successfully fetch products from database"}}}catch(e){const t=e;return{status:"error",message:t}}},async createItem(t,e){const r=e.data;try{const e=await t.dispatch({type:"fetchApi",data:{formData:r,api:"/product/create-product",method:"POST"}});return r["id"]=e.id,await t.commit("createItem",r),{status:"success",data:{product:{product:r},message:`Product '${r["name"]}' (id=${r["id"]}) is created. `}}}catch(n){const t=n;return{status:"error",message:t}}},async fetchApi(t,e){const r=e.data.api,n=t.rootGetters["getServerUrl"]+r;let s={};s=e.data.formData?{method:e.data.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(e.data.formData)}:{method:e.data.method,headers:{"Content-Type":"application/json"}};try{const t=await fetch(n,s),e=await t.json();if(200!==t.status){const e=new Error;throw e.statusCode=t.status,e}if("success"!==e.status){const r=new Error(e.message);throw r.statusCode=t.status,r}return e.data}catch(a){const t=a;throw t}}}),Zt={getProducts(t){return t.products},getRemoveList(t){return t.removeList}},qt={namespaced:!0,state(){return{removeList:[],products:[]}},mutations:Wt,actions:Ht,getters:Zt},Kt=r(3907);const Gt=(0,Kt.MT)({modules:{products:qt},state(){return{serverURL:"http://localhost:80"}},actions:{setServerUrl(t,e){let r;r=e?"":"http://localhost:80",t.commit("setServerUrl",r)}},getters:{getServerUrl(t){return t.serverURL}},mutations:{setServerUrl(t,e){return t.serverURL=e}}});var Yt=Gt,Jt={methods:{getSpecUnit(t){const e={DVD:["Size","MB"],Book:["Weight","KG"],Furniture:["Dimension",""]};return e[t]}}};const Qt=Jt;var Xt=Qt;const te=(0,n.ri)(w);te.use(Ut),te.use(Yt),te.mixin(Xt),te.mount("#app")}},e={};function r(n){var s=e[n];if(void 0!==s)return s.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,r),a.exports}r.m=t,function(){var t=[];r.O=function(e,n,s,a){if(!n){var o=1/0;for(l=0;l<t.length;l++){n=t[l][0],s=t[l][1],a=t[l][2];for(var i=!0,c=0;c<n.length;c++)(!1&a||o>=a)&&Object.keys(r.O).every((function(t){return r.O[t](n[c])}))?n.splice(c--,1):(i=!1,a<o&&(o=a));if(i){t.splice(l--,1);var u=s();void 0!==u&&(e=u)}}return e}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[n,s,a]}}(),function(){r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,n){var s,a,o=n[0],i=n[1],c=n[2],u=0;if(o.some((function(e){return 0!==t[e]}))){for(s in i)r.o(i,s)&&(r.m[s]=i[s]);if(c)var l=c(r)}for(e&&e(n);u<o.length;u++)a=o[u],r.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return r.O(l)},n=self["webpackChunkscandiweb_test_vue"]=self["webpackChunkscandiweb_test_vue"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(784)}));n=r.O(n)})();
//# sourceMappingURL=app.67b3e374.js.map